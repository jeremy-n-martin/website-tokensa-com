<!DOCTYPE html>
<html>
<head>
    <title>Tokens A</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
    <script>
        function sortTable(column) {
            window.location.href = '/sort/' + column + '/' + (window.location.pathname.includes(column + '/desc') ? 'asc' : 'desc');
        }
    </script>
    <script>
        function getRandomOrangeColor() {
            var hue = Math.floor(Math.random() * 9) + 28; // Hue entre 11 et 44 pour une couleur orange
            var saturation = 90;
            var lightness = 60;
            return `hsl(${hue}, ${saturation}%, ${lightness}%)`;
        }
        
        function changeColor() {
            newColor = getRandomOrangeColor();
            var elements = document.getElementsByClassName('orange-a');
            for (var i = 0; i < elements.length; i++) {
                elements[i].style.color = newColor;
            }
            var elements = document.getElementsByClassName('bitcoin-quote');
            for (var i = 0; i < elements.length; i++) {
                elements[i].style.borderLeft = `5px solid ${newColor}`;
            }
            var buttonElements = document.getElementsByTagName('button');
            for (var i = 0; i < buttonElements.length; i++) {
                buttonElements[i].style.backgroundColor = newColor;
            }
        }
        
        window.onload = function() {
            setInterval(changeColor, 2000); // Change la couleur toutes les 2 secondes
        }
    </script>
    
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
</head>
<body>
    <div class="title-panel">
        <h1>TOKENS <span class="orange-a">A</span> </h1>
    </div>
    <p class="bitcoin-quote">"Chancellor on brink of second bailout for banks" - Genesis Block, 03/Jan/2009</p>
    <table>
        <thead>
            <tr>
                <th></th>
                <th>Name</th>
                <th><button onclick="sortTable('creation_time')">Date</button></th>
                <th><button onclick="sortTable('market_cap')">Cap</button></th>
                <!-- <th><button onclick="sortTable('price')">$ Price</button></th> -->
                <th><button onclick="sortTable('change_1h')">H %</button></th>
                <th><button onclick="sortTable('change_24h')">D %</button></th>
                <th><button onclick="sortTable('change_7d')">W %</button></th>
                <th><button onclick="sortTable('rate_ck')">Ck</button></th>
                <th><button onclick="sortTable('rate_cb')">Cy</button></th>
                <th><button onclick="sortTable('rate_ti')">Ti</button></th>
                <th><button onclick="sortTable('rate_co')">Co</button></th>

                
            </tr>
        </thead>
        <tbody>
            {% for logo, name, creation_time, rate_ck, rate_cb, rate_ti, price, change_1h, change_24h, change_7d, market_cap, rate_co, rate_ck_class,
                rate_cb_class, rate_ti_class, change_24h_class, change_1h_class, change_7d_class, rate_co_class in cryptos %}
                <tr>
                    <td><img src="{{ url_for('static', filename=logo) }}" width="20" height="20" /></td>
                    <td>{{ name }}</td>
                    <td class="creation_time-column">{{creation_time}}</td>
                    <td class="market_cap-column">{{ market_cap if market_cap is not none else 'N/A' }} M</td>
                    <!-- <td class="price-column">{{ price if price is not none else 'No Price' }}</td> -->                 
                    <td class="change_1h-column {{ change_1h_class }}">{{ change_1h if change_1h is not none else 'N/A' }}</td>
                    <td class="change_24h-column {{ change_24h_class }}">{{ change_24h if change_24h is not none else 'N/A' }}</td>
                    <td class="change_7d-column {{ change_7d_class }}">{{ change_7d if change_7d is not none else 'N/A' }}</td>
                    <td class="rate-column {{ rate_ck_class }}">{{ rate_ck }}</td>
                    <td class="rate-column {{ rate_cb_class }}">{{ rate_cb }}</td>
                    <td class="rate-column {{ rate_ti_class }}">{{ rate_ti }}</td>
                    <td class="rate-column {{ rate_co_class }}">{{ rate_co }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <p class="love-quote">1010111 1101001 1110100 1101000 100000 1101100 1101111 1110110 1100101 ðŸ§¡</p>
    <br>


    <script>
        // Lorsque l'utilisateur fait dÃ©filer la page, affiche le bouton
        window.onscroll = function() {
            scrollFunction()

        
        };

        function scrollFunction() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                document.getElementById("myBtn").style.display = "block";
            } else {
                document.getElementById("myBtn").style.display = "none";
            }
        }

        // Lorsque l'utilisateur clique sur le bouton, remonte en haut de la page
        function topFunction() {
            document.body.scrollTop = 0; // Pour Safari
            document.documentElement.scrollTop = 0; // Pour Chrome, Firefox, IE et Opera
        }
    </script>

    <!-- Bouton de retour en haut -->
    <button onclick="topFunction()" id="myBtn" title="Go to top">â†‘</button>

</body>
</html>
